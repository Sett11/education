# –ü–∞—Ä—Å–µ—Ä –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –î–µ–ª

–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—à–µ–Ω–∏–π –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö —Å—É–¥–æ–≤ —Å —Å–∞–π—Ç–æ–≤ `kad.arbitr.ru` –∏ `ras.arbitr.ru`.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `parser`
2. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker-compose up --build
```
3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:7860

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ editable —Ä–µ–∂–∏–º–µ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏–º–ø–æ—Ä—Ç–æ–≤:
```bash
pip install -e .
```

2. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é:
```bash
pip install -r requirements.txt
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python main.py
```

**–í–∞–∂–Ω–æ:** –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pip install -e .` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –≤ editable —Ä–µ–∂–∏–º–µ. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ `sys.path` –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–ü–æ–ª—É—á–∏—Ç–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://kad.arbitr.ru` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Application ‚Üí Cookies
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ cookies –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞:**
   - –£–∫–∞–∂–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç
   - –í—Å—Ç–∞–≤—å—Ç–µ cookies –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ
   - –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥"

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –°–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `docs/`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∞–∫—Å–∏–º—É–º 500 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å
- 25 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

### –§–∏–ª—å—Ç—Ä—ã
- ‚úÖ **–í–∫–ª—é—á–∞–µ–º:** —Ä–µ—à–µ–Ω–∏—è, –∫–∞—Å—Å–∞—Ü–∏–∏, –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ùå **–ò—Å–∫–ª—é—á–∞–µ–º:** –ø–µ—Ä–µ–Ω–æ—Å—ã, –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
parser/
‚îú‚îÄ‚îÄ docs/              # –°–∫–∞—á–∞–Ω–Ω—ã–µ PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ logs/              # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ src/               # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ core/          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils/         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ dashboard/     # Gradio –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îî‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `config/settings.py`:

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
- `items_per_page`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (25)
- `max_pages`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü (40)
- `max_requests_per_day`: –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (500)
- `date_step_days`: –®–∞–≥ –ø–æ –¥–∞—Ç–∞–º –≤ –¥–Ω—è—Ö (2)
- `request_delay_seconds`: –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (2 —Å–µ–∫)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

```python
SEARCH_REQUEST_CONFIG = {
    "method": "POST",
    "headers": {
        "Content-Type": "application/json",
        "Accept": "*/*",
        "Origin": "https://kad.arbitr.ru",
        "Referer": "https://kad.arbitr.ru/",
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    },
    "required_cookies": ["pr_fp", "wasm"],
    "json_template": {
        "Page": 1,
        "Count": 25,
        "Courts": [],
        "DateFrom": "2021-01-01",
        "DateTo": "2021-12-31",
        "Sides": [],
        "Judges": [],
        "CaseNumbers": [],
        "WithVKSInstances": False
    },
    "anti_bot_warning": True,
    "requires_wasm_token": True
}
```

### URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- `search_endpoint`: "https://kad.arbitr.ru/Kad/SearchInstances" (–Ω–æ–≤—ã–π)
- `kad_arbitr`: "https://kad.arbitr.ru" (–±–∞–∑–æ–≤—ã–π)
- `ras_arbitr`: "https://ras.arbitr.ru" (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

## üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∫–∞—á–∞–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ `docs/metadata.json`:

```json
{
  "case_id": "—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä",
  "file_path": "–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É.pdf",
  "metadata": {
    "CaseId": "...",
    "FileUrl": "...",
    "Title": "...",
    "Date": "..."
  },
  "downloaded_at": "2024-01-01T12:00:00"
}
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "Cookies –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ cookies —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

### –û—à–∏–±–∫–∞ 403 "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω" (Anti-bot –∑–∞—â–∏—Ç–∞)
- **–ü—Ä–∏—á–∏–Ω–∞:** –°—Ä–∞–±–æ—Ç–∞–ª–∞ anti-bot –∑–∞—â–∏—Ç–∞ —Å–∞–π—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –ü–æ–ª—É—á–∏—Ç–µ —Å–≤–µ–∂–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
  2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å cookies `pr_fp` –∏ `wasm`
  3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ —Å –æ–±—Ö–æ–¥–æ–º anti-bot
  4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞: `parser.validate_endpoint_readiness()`

### –û—à–∏–±–∫–∞ "–î–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç"
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ IP –∞–¥—Ä–µ—Å

### –û—à–∏–±–∫–∞ "–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞
- –û–±–Ω–æ–≤–∏—Ç–µ cookies
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

### –û—à–∏–±–∫–∞ "–≠–Ω–¥–ø–æ–∏–Ω—Ç –ù–ï –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ cookies –¥–ª—è anti-bot –∑–∞—â–∏—Ç—ã
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –ü–æ–ª—É—á–∏—Ç–µ cookies –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
  2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ —Å –æ–±—Ö–æ–¥–æ–º anti-bot
  3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é WASM —Ç–æ–∫–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å JSON —Å—Ö–µ–º–æ–π –∑–∞–ø—Ä–æ—Å–∞
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SEARCH_REQUEST_CONFIG["json_template"]` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ `SEARCH_REQUEST_CONFIG["headers"]`

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `logs/` —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `parser_YYYYMMDD.log`.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ cookies –∞–∫—Ç—É–∞–ª—å–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ü–µ–ª–µ–≤—ã—Ö —Å–∞–π—Ç–æ–≤

## üõ°Ô∏è Anti-Bot –ó–∞—â–∏—Ç–∞ –∏ WASM –¢–æ–∫–µ–Ω—ã

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ö–æ–¥–∞ anti-bot –∑–∞—â–∏—Ç—ã

–°–∞–π—Ç `kad.arbitr.ru` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç WASM-—Ç–æ–∫–µ–Ω—ã –∏ anti-bot –∑–∞—â–∏—Ç—É. –≠–Ω–¥–ø–æ–∏–Ω—Ç `https://kad.arbitr.ru/Kad/SearchInstances` **–ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ cookies:**
   - `pr_fp` - –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞
   - `wasm` - WASM —Ç–æ–∫–µ–Ω –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã

2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
   - `Content-Type: application/json`
   - `User-Agent` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π
   - `Origin: https://kad.arbitr.ru`
   - `Referer: https://kad.arbitr.ru/`

3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è JSON —Å—Ö–µ–º–∞ –∑–∞–ø—Ä–æ—Å–∞:**
   ```json
   {
     "Page": 1,
     "Count": 25,
     "Courts": [],
     "DateFrom": "2024-01-01",
     "DateTo": "2024-01-31",
     "Sides": [],
     "Judges": [],
     "CaseNumbers": [],
     "WithVKSInstances": false
   }
   ```

### üö® –†–µ—à–µ–Ω–∏—è –¥–ª—è –æ–±—Ö–æ–¥–∞ anti-bot –∑–∞—â–∏—Ç—ã

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª—É—á–µ–Ω–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://kad.arbitr.ru` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Application ‚Üí Cookies
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ cookies `pr_fp` –∏ `wasm`
5. –í—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ —Å –æ–±—Ö–æ–¥–æ–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—Ö–æ–¥–∞ anti-bot
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é IP –∞–¥—Ä–µ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ WASM —Ç–æ–∫–µ–Ω–∞
- –ò–∑—É—á–∏—Ç–µ JavaScript –∫–æ–¥ —Å–∞–π—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ª–æ–≥–∏–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `validate_endpoint_readiness()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```python
from src.core.batch_parser import create_batch_parser

parser = create_batch_parser()
parser.set_cookies({
    "pr_fp": "–≤–∞—à_pr_fp_—Ç–æ–∫–µ–Ω",
    "wasm": "–≤–∞—à_wasm_—Ç–æ–∫–µ–Ω"
})

if parser.validate_endpoint_readiness():
    print("‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é")
else:
    print("‚ùå –≠–Ω–¥–ø–æ–∏–Ω—Ç –ù–ï –≥–æ—Ç–æ–≤ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ anti-bot –∑–∞—â–∏—Ç—ã")
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
set KAD_SMOKE=1
python test_api.py
```

### üìã –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- `200` - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (anti-bot –æ–±–æ–π–¥–µ–Ω)
- `403` - –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (anti-bot –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞)
- `429` - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (rate limiting)
- `500` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ anti-bot –∑–∞—â–∏—Ç—ã
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ cookies** –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ 403
4. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ cookies** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏ anti-bot –∑–∞—â–∏—Ç—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –ª–æ–≥:

```
‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ö–æ–¥–∞ anti-bot –∑–∞—â–∏—Ç—ã!
‚ö†Ô∏è –ù–µ–æ–±—Ö–æ–¥–∏–º WASM —Ç–æ–∫–µ–Ω –∏–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–µ cookies –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (403) - –≤–æ–∑–º–æ–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ anti-bot –∑–∞—â–∏—Ç–∞
‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å WASM —Ç–æ–∫–µ–Ω –∏–ª–∏ cookies
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```python
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–∞—Ä—Å–µ—Ä–∞
stats = parser.get_stats()
print(f"–°–∫–∞—á–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {stats['downloaded_count']}")
print(f"–°—Ç–∞—Ç—É—Å rate limiter: {stats['rate_limiter_status']}")
```

## ‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö —Å—É–¥–æ–≤. –°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤.

**–í–Ω–∏–º–∞–Ω–∏–µ:** –û–±—Ö–æ–¥ anti-bot –∑–∞—â–∏—Ç—ã –¥–æ–ª–∂–µ–Ω –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–∫–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞.
